---
layout: default
---
<article class="extensions-index">
  <header class="page-header">
    <h1>{{ page.title }}</h1>
    {% if page.description %}
    <p>{{ page.description }}</p>
    {% endif %}
  </header>

  <div class="extensions-main">
    {% assign all = site.data.catalog_flat %}
    {% assign slug = page.category_slug %}
    {% assign all_items = '' | split: '' %}
    {% for item in all %}
      {% assign matched = false %}
      {% if item.categories %}
        {% for c in item.categories %}
          {% assign cslug = c | downcase | replace: ' ', '-' %}
          {% if cslug == slug %}
            {% assign matched = true %}
          {% endif %}
        {% endfor %}
      {% else %}
        {% assign cslug = item.category | default: 'misc' | downcase | replace: ' ', '-' %}
        {% if cslug == slug %}
          {% assign matched = true %}
        {% endif %}
      {% endif %}
      {% if matched %}
        {% assign all_items = all_items | push: item %}
      {% endif %}
    {% endfor %}

    {% assign per_page = site.pagination_size | default: 25 %}
    {% assign page_path = page.url | remove_first: '/categories/' | remove_first: slug | remove_first: '/' | remove: '/'
    %}
    {% if page_path contains 'page' %}
    {% assign page_num = page_path | remove: 'page' | plus: 0 %}
    {% else %}
    {% assign page_num = 1 %}
    {% endif %}

    {% assign offset = page_num | minus: 1 | times: per_page %}
    {% assign end_index = offset | plus: per_page | minus: 1 %}

    {% assign items = '' | split: '' %}
    {% for item in all_items %}
    {% assign item_index = forloop.index | minus: 1 %}
    {% if item_index >= offset and item_index <= end_index %} {% assign items=items | push: item %} {% endif %} {%
      endfor %} {% assign no_items_message='No extensions in the ' | append: page.category_name |
      append: ' category have been catalogued yet.' %} {% include extensions-table.html %} {% comment %} Pagination info
      {% endcomment %} {% assign total_items=all_items | size %} {% if total_items> per_page %}

      {% assign total_pages = total_items | divided_by: per_page %}
      {% assign remainder = total_items | modulo: per_page %}
      {% if remainder != 0 %}
      {% assign total_pages = total_pages | plus: 1 %}
      {% endif %}

      {% if total_pages > 1 %}
      {% assign __base = "/categories/" | append: slug | append: "/" %}
      {% include pagination.html base_url=__base current=page_num total_pages=total_pages id_suffix=slug
      per_page=per_page total_items=total_items %}
      {% endif %}
      {% endif %}
  </div>
</article>